/* Base Reset & Variables */
:root {
    --bg-color: #0a000c;
    /* Deeper black-purple */
    --text-color: #ffebee;
    --accent-color: #d81b60;
    /* Gothic magenta */
    --secondary-color: #7b1fa2;
    /* Deep violet */
    --glow-color: rgba(216, 27, 96, 0.5);
    --font-main: 'Montserrat', sans-serif;
    --font-heading: 'Playfair Display', serif;
    --transition-slow: all 0.8s cubic-bezier(0.4, 0, 0.2, 1);
}

* {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
}

html {
    scroll-behavior: smooth;
}

body {
    background-color: var(--bg-color);
    background-image:
        radial-gradient(circle at 20% 30%, rgba(216, 27, 96, 0.05) 0%, transparent 40%),
        radial-gradient(circle at 80% 70%, rgba(123, 31, 162, 0.05) 0%, transparent 40%),
        url("data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M30 5c2.5 0 5 2 5 5 0 1.5-1 3-2 4 1 1 2 2.5 2 4 0 3-2.5 5-5 5s-5-2-5-5c0-1.5 1-3 2-4-1-1-2-2.5-2-4 0-3 2.5-5 5-5z' fill='%23ff2d55' fill-opacity='0.03' fill-rule='evenodd'/%3E%3C/svg%3E");
    background-attachment: fixed;
    /* Keep background static during scroll */
    color: var(--text-color);
    font-family: var(--font-main);
    overflow-x: hidden;
    line-height: 1.6;
}

/* Background Elements */
#particles-container {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    pointer-events: none;
    z-index: 0;
}

.heart-particle {
    position: absolute;
    color: var(--accent-color);
    filter: drop-shadow(0 0 5px var(--glow-color));
    opacity: 0.4;
    user-select: none;
    animation: float-up var(--duration) linear forwards;
}

@keyframes float-up {
    0% {
        transform: translateY(100vh) scale(0) rotate(0deg);
        opacity: 0;
    }

    10% {
        opacity: 0.4;
    }

    90% {
        opacity: 0.4;
    }

    100% {
        transform: translateY(-10vh) scale(var(--scale)) rotate(var(--rotation));
        opacity: 0;
    }
}

/* Roses/Gothic Overlay */
body::before {
    content: '';
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='100' height='100' viewBox='0 0 100 100'%3E%3Cpath d='M50 20c-5-10-15-10-20-5-5 5-5 15 5 25l15 15 15-15c10-10 10-20 5-25-5-5-15-5-20 5z' fill='%234a0e1c' fill-opacity='0.02'/%3E%3C/svg%3E");
    pointer-events: none;
    z-index: -1;
}

/* Navigation */
#main-nav {
    position: fixed;
    top: 0;
    width: 100%;
    padding: 20px;
    z-index: 100;
    background: linear-gradient(to bottom, rgba(10, 0, 12, 0.9), transparent);
    backdrop-filter: blur(8px);
}

#main-nav ul {
    display: flex;
    justify-content: center;
    list-style: none;
    gap: 30px;
}

#main-nav a {
    color: var(--text-color);
    text-decoration: none;
    font-size: 0.85rem;
    letter-spacing: 3px;
    text-transform: uppercase;
    transition: var(--transition-slow);
    opacity: 0.6;
}

#main-nav a:hover {
    opacity: 1;
    color: var(--accent-color);
    text-shadow: 0 0 15px var(--accent-color);
}

/* Sections Base */
section {
    position: relative;
    z-index: 1;
    padding: 80px 20px;
    min-height: 100vh;
    display: flex;
    align-items: center;
    justify-content: center;
    background: transparent;
    /* Ensure all sections are transparent */
}

.container {
    max-width: 1000px;
    margin: 0 auto;
    width: 100%;
}

.fullscreen-section {
    height: 100vh;
    padding: 0;
}

/* Hero Section */
#hero {
    /* No specific background, uses body background */
}

.glitter-text {
    font-family: var(--font-heading);
    font-size: 4.5rem;
    font-weight: 700;
    text-align: center;
    color: #fff;
    text-shadow: 0 0 20px var(--accent-color), 0 0 40px var(--accent-color);
    animation: heart-pulse 2s infinite;
    margin-bottom: 1rem;
}

@keyframes glitter {
    0% {
        background-position: 0% 50%;
    }

    50% {
        background-position: 100% 50%;
    }

    100% {
        background-position: 0% 50%;
    }
}

#hero .subtitle {
    font-size: 1.5rem;
    text-align: center;
    opacity: 0.8;
    border-right: 2px solid var(--accent-color);
    white-space: nowrap;
    overflow: hidden;
    width: 0;
    margin: 0 auto;
    animation: typing 3.5s steps(30, end) forwards, blink 0.8s infinite;
}

@keyframes typing {
    from {
        width: 0
    }

    to {
        width: 100%
    }
}

@keyframes blink {

    from,
    to {
        border-color: transparent
    }

    50% {
        border-color: var(--accent-color)
    }
}

/* Cursor Trail Particles */
.cursor-particle {
    position: fixed;
    pointer-events: none;
    background: var(--accent-color);
    border-radius: 50%;
    z-index: 9999;
    filter: blur(2px) drop-shadow(0 0 5px var(--accent-color));
    animation: particle-fade 1s forwards;
}

@keyframes particle-fade {
    0% {
        transform: scale(1);
        opacity: 0.8;
    }

    100% {
        transform: scale(0);
        opacity: 0;
    }
}

/* Rose Petal Particles */
.rose-petal {
    position: absolute;
    width: 15px;
    height: 15px;
    background: #4a0e1c;
    border-radius: 100% 0 100% 0;
    opacity: 0.3;
    pointer-events: none;
    animation: petal-fall var(--duration) linear forwards;
}

@keyframes petal-fall {
    0% {
        transform: translateY(-50px) rotate(0deg);
        opacity: 0;
    }

    10% {
        opacity: 0.3;
    }

    100% {
        transform: translateY(110vh) rotate(720deg);
        opacity: 0;
    }
}

.song-dedication {
    margin-top: 30px;
    text-align: center;
    animation: fadeIn 3s ease-in;
}

.song-title {
    font-size: 1.1rem;
    color: var(--secondary-color);
    letter-spacing: 2px;
    margin-bottom: 5px;
    text-shadow: 0 0 10px rgba(123, 31, 162, 0.5);
}

.dedication-msg {
    font-size: 0.9rem;
    font-style: italic;
    opacity: 0.6;
    letter-spacing: 1px;
}

.top-credit {
    font-family: var(--font-heading);
    font-size: 2rem;
    font-weight: 700;
    letter-spacing: 5px;
    color: #4fc3f7;
    text-transform: uppercase;
    text-align: center;
    text-shadow: 0 0 15px #0288d1, 0 0 30px #01579b, 0 0 45px #0288d1;
    animation: blue-glimmer 3s ease-in-out infinite alternate;
    margin-bottom: 50px;
    width: 100%;
}

/* Scroll Progress Bar */
#scroll-progress {
    position: fixed;
    top: 0;
    left: 0;
    height: 4px;
    background: linear-gradient(to right, #0288d1, #4fc3f7);
    width: 0%;
    z-index: 9999;
    box-shadow: 0 0 10px #4fc3f7;
}

/* Heartbeat Animation Red & Centered */
.heartbeat-container {
    margin: 40px auto;
    position: relative;
    width: 100%;
    max-width: 400px;
}

.heartbeat-svg {
    width: 100%;
    height: 80px;
    fill: none;
    stroke: #ff2d55;
    /* Changed to Red */
    stroke-width: 3;
    stroke-linecap: round;
}

.heartbeat-path {
    stroke-dasharray: 1000;
    stroke-dashoffset: 1000;
    animation: dash 5s linear infinite;
    filter: drop-shadow(0 0 8px #ff2d55);
}

@keyframes dash {
    to {
        stroke-dashoffset: 0;
    }
}

.heartbeat-text {
    display: block;
    margin-top: 10px;
    font-size: 0.85rem;
    letter-spacing: 4px;
    color: #ff2d55;
    text-transform: uppercase;
    opacity: 0.8;
    text-align: center;
}



/* Together Timer Styling */
#together-timer-container {
    margin: 20px 0;
    text-align: center;
    animation: fadeIn 2s forwards;
}

#together-timer {
    font-size: 2.5rem;
    font-weight: 700;
    color: #ff2d55;
    text-shadow: 0 0 15px #ff2d55;
    font-family: var(--font-heading);
    letter-spacing: 2px;
}

.timer-label {
    font-size: 0.9rem;
    letter-spacing: 3px;
    text-transform: uppercase;
    color: var(--secondary-color);
    margin-top: 10px;
    opacity: 0.7;
}

/* Wish Section Styling */
.wish-section {
    margin-top: 80px;
    text-align: center;
}

.wish-letter {
    background: rgba(10, 0, 12, 0.8);
    border: 1px solid rgba(216, 27, 96, 0.3);
    padding: 50px;
    transition: all 0.5s ease;
}

.wish-title {
    font-family: var(--font-heading);
    font-size: 2.5rem;
    color: var(--secondary-color);
    margin-bottom: 30px;
    text-shadow: 0 0 10px rgba(216, 27, 96, 0.5);
}

.wish-btn {
    display: inline-block;
    padding: 30px 50px;
    background: #1a001a;
    border: 2px solid var(--accent-color);
    color: var(--text-color);
    cursor: pointer;
    font-style: italic;
    letter-spacing: 1px;
    transition: all 0.3s ease;
    border-radius: 5px;
    position: relative;
    box-shadow: 0 10px 20px rgba(0, 0, 0, 0.5);
}

/* Make it look like an envelope */
.wish-btn::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    width: 0;
    height: 0;
    border-left: 50px solid transparent;
    border-right: 50px solid transparent;
    border-top: 30px solid var(--accent-color);
    opacity: 0.3;
}

.wish-btn:hover {
    background: #2a002a;
    transform: translateY(-50px) rotate(-5deg);
    box-shadow: 0 20px 40px var(--glow-color);
}

.hidden-wish {
    display: none;
    font-family: var(--font-heading);
    font-size: 2.22rem;
    color: #ff2d55;
    /* Changed to Red */
    margin-top: 30px;
    text-shadow: 0 0 20px #ff2d55;
    animation: fadeIn 2s forwards;
}

.wish-heart {
    font-size: 3rem;
    margin-top: 20px;
    animation: heart-pulse 1.5s infinite;
}

.wish-step {
    display: none;
    animation: fadeIn 0.5s forwards;
}

.wish-step.active-step {
    display: block;
}

.wish-question {
    font-size: 1.8rem;
    color: var(--text-color);
    margin-bottom: 30px;
    font-family: var(--font-heading);
}

.choice-btns {
    display: flex;
    justify-content: center;
    gap: 20px;
}

.choice-btn {
    padding: 10px 30px;
    background: transparent;
    border: 2px solid var(--accent-color);
    color: var(--text-color);
    font-family: var(--font-heading);
    font-size: 1.2rem;
    cursor: pointer;
    border-radius: 5px;
    transition: all 0.3s ease;
}

.choice-btn:hover {
    background: var(--accent-color);
    color: white;
    box-shadow: 0 0 20px var(--accent-color);
}

.choice-btn.no:hover {
    background: #333;
    border-color: #555;
    box-shadow: none;
}

.wish-btn.envelope {
    margin: 0 auto;
}

/* Ornate Corners */
.ornate-corner {
    position: absolute;
    width: 100px;
    height: 100px;
    border: 2px solid rgba(79, 195, 247, 0.2);
    z-index: 5;
    pointer-events: none;
}

.top-left {
    top: 30px;
    left: 30px;
    border-right: none;
    border-bottom: none;
}

.top-right {
    top: 30px;
    right: 30px;
    border-left: none;
    border-bottom: none;
}

.bottom-left {
    bottom: 30px;
    left: 30px;
    border-right: none;
    border-top: none;
}

.bottom-right {
    bottom: 30px;
    right: 30px;
    border-left: none;
    border-top: none;
}

.ornate-corner::after {
    content: 'âœ§';
    position: absolute;
    color: #4fc3f7;
    font-size: 1.5rem;
    text-shadow: 0 0 10px #4fc3f7;
}

.top-left::after {
    top: -15px;
    left: -10px;
}

.top-right::after {
    top: -15px;
    right: -10px;
}

.bottom-left::after {
    bottom: -15px;
    left: -10px;
}

.bottom-right::after {
    bottom: -15px;
    right: -10px;
}

@keyframes blue-glimmer {
    0% {
        transform: translateY(0);
        opacity: 0.8;
        text-shadow: 0 0 15px #0288d1;
    }

    50% {
        opacity: 1;
        text-shadow: 0 0 25px #4fc3f7, 0 0 50px #0288d1;
    }

    100% {
        transform: translateY(-10px);
        opacity: 0.9;
        text-shadow: 0 0 15px #0288d1;
    }
}

@media (max-width: 768px) {
    .top-credit {
        font-size: 1.25rem;
        letter-spacing: 2px;
        margin-bottom: 20px;
    }
}

/* Scroll Indicator Removed */

/* Gallery Section */
.section-title {
    font-family: var(--font-heading);
    font-size: 3rem;
    text-align: center;
    margin-bottom: 50px;
    color: var(--secondary-color);
}

.grid {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
    gap: 20px;
}

.grid-item {
    aspect-ratio: 4/5;
    overflow: hidden;
    border-radius: 15px;
    position: relative;
    cursor: pointer;
    box-shadow: 0 10px 30px rgba(0, 0, 0, 0.5);
    transition: var(--transition-slow);
}

.grid-item img {
    width: 100%;
    height: 100%;
    object-fit: cover;
    transition: transform 1s cubic-bezier(0.165, 0.84, 0.44, 1);
}

.grid-item:hover img {
    transform: scale(1.1);
}

.grid-item::after {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: radial-gradient(circle, transparent 0%, rgba(15, 0, 21, 0.4) 100%);
    pointer-events: none;
}

/* Letter Section */
.letter-box {
    background: rgba(255, 255, 255, 0.03);
    padding: 60px;
    border-radius: 30px;
    border: 1px solid rgba(255, 255, 255, 0.1);
    backdrop-filter: blur(10px);
    box-shadow: 0 20px 50px rgba(0, 0, 0, 0.3);
}

.letter-content {
    font-size: 1.25rem;
    max-width: 650px;
    margin: 0 auto;
    text-align: center;
    font-family: var(--font-heading);
    color: #f8bbd0;
    letter-spacing: 0.5px;
}

.letter-content p {
    margin-bottom: 25px;
}

.signature {
    font-family: var(--font-heading);
    font-size: 1.8rem;
    margin-top: 40px !important;
    font-style: italic;
    color: var(--accent-color);
}

/* Final Section */
.glowing-message {
    text-align: center;
}

.heart-pulse {
    font-family: var(--font-heading);
    font-size: 5rem;
    color: #fff;
    text-shadow: 0 0 20px var(--accent-color), 0 0 40px var(--accent-color);
    animation: heart-pulse 2s infinite;
}

@keyframes heart-pulse {
    0% {
        transform: scale(1);
        text-shadow: 0 0 20px var(--accent-color);
    }

    50% {
        transform: scale(1.05);
        text-shadow: 0 0 40px var(--accent-color), 0 0 60px var(--accent-color);
    }

    100% {
        transform: scale(1);
        text-shadow: 0 0 20px var(--accent-color);
    }
}

.final-date {
    margin-top: 20px;
    letter-spacing: 5px;
    opacity: 0.6;
}

/* Stylish Play Button */
.stylish-play-btn {
    display: inline-flex;
    align-items: center;
    gap: 15px;
    margin: 20px 0;
    padding: 12px 30px;
    background: rgba(216, 27, 96, 0.1);
    border: 1px solid var(--accent-color);
    border-radius: 50px;
    cursor: pointer;
    transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
    backdrop-filter: blur(10px);
    box-shadow: 0 0 15px rgba(216, 27, 96, 0.2);
}

.stylish-play-btn:hover {
    background: var(--accent-color);
    transform: scale(1.05);
    box-shadow: 0 0 30px var(--accent-color);
}

.stylish-play-btn:hover #play-status-text,
.stylish-play-btn:hover #play-status-icon {
    color: white;
}

#play-status-icon {
    font-size: 1.2rem;
    color: var(--accent-color);
    transition: color 0.3s;
}

#play-status-text {
    font-weight: 500;
    letter-spacing: 1px;
    text-transform: uppercase;
    font-size: 0.8rem;
    color: var(--text-color);
    transition: color 0.3s;
}

/* Music Control removed from fixed position */

/* Reveal Animations */
.reveal-section {
    opacity: 0;
    transform: translateY(50px);
    transition: var(--transition-slow);
}

.reveal-section.active {
    opacity: 1;
    transform: translateY(0);
}

.fade-in {
    animation: fadeIn 2s forwards;
}

@keyframes fadeIn {
    from {
        opacity: 0;
        transform: translateY(20px);
    }

    to {
        opacity: 1;
        transform: translateY(0);
    }
}

/* Footer */
.footer {
    text-align: center;
    padding: 40px;
    opacity: 0.4;
    font-size: 0.8rem;
}

/* Utility */
.italic {
    font-style: italic;
}

/* Responsive */
@media (max-width: 768px) {
    #main-nav {
        padding: 15px 10px;
    }

    #main-nav ul {
        gap: 12px;
        flex-wrap: wrap;
        justify-content: center;
    }

    #main-nav a {
        font-size: 0.75rem;
        letter-spacing: 1px;
    }

    section {
        padding: 60px 15px;
    }

    .glitter-text {
        font-size: 2.5rem;
        line-height: 1.2;
    }

    #hero .subtitle {
        font-size: 1.1rem;
        padding: 0 20px;
    }

    .heart-pulse {
        font-size: 2.8rem;
    }

    .letter-box {
        padding: 40px 20px;
        border-radius: 20px;
    }

    .letter-content {
        font-size: 1rem;
    }

    .section-title {
        font-size: 2.2rem;
        margin-bottom: 30px;
    }

    .music-btn {
        display: none;
        /* Hide old if any */
    }

    .stylish-play-btn {
        padding: 10px 20px;
    }

    .music-btn svg {
        width: 25px;
        height: 25px;
    }

    .grid {
        grid-template-columns: repeat(auto-fill, minmax(140px, 1fr));
        gap: 10px;
    }
}

@media (max-width: 480px) {
    .glitter-text {
        font-size: 2.2rem;
    }

    .heart-pulse {
        font-size: 2.2rem;
    }

    .signature {
        font-size: 1.4rem;
    }
}